<html>
<head><meta charset="utf-8" /></head>
<body>
    <div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="79da57b0-fbdb-4837-8ebb-ce44790abbb3" class="plotly-graph-div" style="height:700px; width:900px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("79da57b0-fbdb-4837-8ebb-ce44790abbb3")) {                    Plotly.newPlot(                        "79da57b0-fbdb-4837-8ebb-ce44790abbb3",                        [{"fill":"toself","line":{"color":"rgba(31, 119, 180, 0.7)"},"name":"Conservative","r":[0.3,0.6,0.15,0.4,0.3,0.4,0.3,0.3],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":true,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(44, 160, 44, 0.7)"},"name":"Expected","r":[0.4,0.7,0.25,0.6,0.5,0.6,0.5,0.4],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":true,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(214, 39, 40, 0.7)"},"name":"Optimistic","r":[0.55,0.85,0.4,0.8,0.7,0.8,0.7,0.55],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":true,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(31, 119, 180, 0.7)"},"name":"Conservative","r":[0.2,0.5,0.1,0.3,0.25,0.45,0.4,0.2],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(44, 160, 44, 0.7)"},"name":"Expected","r":[0.3,0.6,0.2,0.5,0.4,0.65,0.6,0.3],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(214, 39, 40, 0.7)"},"name":"Optimistic","r":[0.45,0.75,0.35,0.7,0.6,0.85,0.8,0.45],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(31, 119, 180, 0.7)"},"name":"Conservative","r":[0.1,0.4,0.05,0.25,0.4,0.5,0.25,0.1],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(44, 160, 44, 0.7)"},"name":"Expected","r":[0.15,0.5,0.1,0.4,0.6,0.7,0.45,0.15],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(214, 39, 40, 0.7)"},"name":"Optimistic","r":[0.25,0.65,0.2,0.6,0.8,0.9,0.65,0.25],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(31, 119, 180, 0.7)"},"name":"Conservative","r":[0.1,0.4,0.08,0.25,0.35,0.5,0.25,0.1],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(44, 160, 44, 0.7)"},"name":"Expected","r":[0.15,0.5,0.15,0.4,0.55,0.7,0.45,0.15],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(214, 39, 40, 0.7)"},"name":"Optimistic","r":[0.25,0.65,0.25,0.6,0.75,0.9,0.65,0.25],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(31, 119, 180, 0.7)"},"name":"Conservative","r":[0.05,0.3,0.05,0.2,0.2,0.4,0.2,0.05],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(44, 160, 44, 0.7)"},"name":"Expected","r":[0.1,0.4,0.1,0.35,0.35,0.6,0.4,0.1],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(214, 39, 40, 0.7)"},"name":"Optimistic","r":[0.2,0.55,0.2,0.55,0.55,0.8,0.6,0.2],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(31, 119, 180, 0.7)"},"name":"Conservative","r":[0.15,0.45,0.1,0.3,0.3,0.45,0.35,0.15],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(44, 160, 44, 0.7)"},"name":"Expected","r":[0.25,0.55,0.2,0.45,0.45,0.65,0.55,0.25],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"},{"fill":"toself","line":{"color":"rgba(214, 39, 40, 0.7)"},"name":"Optimistic","r":[0.4,0.7,0.35,0.65,0.65,0.85,0.75,0.4],"theta":["Clinical Success Probability","Regulatory Approval Probability","Market Penetration","Pricing Power","Competition Impact","Development Costs","Time to Market","Clinical Success Probability"],"visible":false,"type":"scatterpolar"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"annotations":[{"align":"center","font":{"size":12},"showarrow":false,"text":"NPV Range: $40M (Conservative) - $63M (Expected) - $95M (Optimistic)","visible":true,"x":0.5,"xref":"paper","y":-0.1,"yref":"paper"},{"align":"center","font":{"size":12},"showarrow":false,"text":"NPV Range: $20M (Conservative) - $33M (Expected) - $55M (Optimistic)","visible":false,"x":0.5,"xref":"paper","y":-0.1,"yref":"paper"},{"align":"center","font":{"size":12},"showarrow":false,"text":"NPV Range: $6M (Conservative) - $11M (Expected) - $25M (Optimistic)","visible":false,"x":0.5,"xref":"paper","y":-0.1,"yref":"paper"},{"align":"center","font":{"size":12},"showarrow":false,"text":"NPV Range: $6M (Conservative) - $11M (Expected) - $28M (Optimistic)","visible":false,"x":0.5,"xref":"paper","y":-0.1,"yref":"paper"},{"align":"center","font":{"size":12},"showarrow":false,"text":"NPV Range: $4M (Conservative) - $8M (Expected) - $18M (Optimistic)","visible":false,"x":0.5,"xref":"paper","y":-0.1,"yref":"paper"},{"align":"center","font":{"size":12},"showarrow":false,"text":"NPV Range: $12M (Conservative) - $19M (Expected) - $35M (Optimistic)","visible":false,"x":0.5,"xref":"paper","y":-0.1,"yref":"paper"},{"align":"left","font":{"size":12},"showarrow":false,"text":"Select Drug:","x":0.1,"xref":"paper","y":1.12,"yref":"paper"}],"updatemenus":[{"active":0,"buttons":[{"args":[{"visible":[true,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]},{"title":"Valuation Scenario Analysis - Azer-cel (DLBCL)"}],"label":"Azer-cel (DLBCL)","method":"update"},{"args":[{"visible":[false,false,false,false,true,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]},{"title":"Valuation Scenario Analysis - HER-Vaxx (Gastric Cancer)"}],"label":"HER-Vaxx (Gastric Cancer)","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,true,true,true,true,false,false,false,false,false,false,false,false,false,false,false,false]},{"title":"Valuation Scenario Analysis - CF33\u002fVAXINIA (Bile Tract)"}],"label":"CF33\u002fVAXINIA (Bile Tract)","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,true,false,false,false,false,false,false,false,false]},{"title":"Valuation Scenario Analysis - CF33\u002fVAXINIA (Solid Tumors)"}],"label":"CF33\u002fVAXINIA (Solid Tumors)","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,true,false,false,false,false]},{"title":"Valuation Scenario Analysis - PD1-Vaxx (NSCLC)"}],"label":"PD1-Vaxx (NSCLC)","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,true]},{"title":"Valuation Scenario Analysis - NeoPOLEM (MSI-high CRC)"}],"label":"NeoPOLEM (MSI-high CRC)","method":"update"}],"direction":"down","pad":{"r":10,"t":10},"showactive":true,"x":0.1,"xanchor":"left","y":1.15,"yanchor":"top"}],"title":{"font":{"size":20},"text":"Valuation Scenario Analysis - Azer-cel (DLBCL)","y":0.95,"x":0.5,"xanchor":"center","yanchor":"top"},"polar":{"radialaxis":{"visible":true,"range":[0,1]}},"legend":{"orientation":"h","yanchor":"bottom","y":1.02,"xanchor":"right","x":1},"showlegend":true,"height":700,"width":900},                        {"responsive": true}                    )                };            </script>        </div>
</body>
</html>
<div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
    <h3 style="margin-top: 0;">Adjust Valuation Parameters</h3>
    <p>Use the sliders below to create a custom scenario and see how it affects the valuation.</p>
    
    <div style="display: flex; flex-wrap: wrap;">

        <div style="flex: 0 0 50%; margin-bottom: 15px;">
            <label for="clinical_success_probability">Clinical Success Probability:</label>
            <input type="range" id="clinical_success_probability" name="clinical_success_probability" 
                   min="0" max="1" step="0.05" value="0.5" style="width: 80%;">
            <span id="clinical_success_probability_value">0.50</span>
        </div>
    
        <div style="flex: 0 0 50%; margin-bottom: 15px;">
            <label for="regulatory_approval_probability">Regulatory Approval Probability:</label>
            <input type="range" id="regulatory_approval_probability" name="regulatory_approval_probability" 
                   min="0" max="1" step="0.05" value="0.5" style="width: 80%;">
            <span id="regulatory_approval_probability_value">0.50</span>
        </div>
    
        <div style="flex: 0 0 50%; margin-bottom: 15px;">
            <label for="market_penetration">Market Penetration:</label>
            <input type="range" id="market_penetration" name="market_penetration" 
                   min="0" max="1" step="0.05" value="0.5" style="width: 80%;">
            <span id="market_penetration_value">0.50</span>
        </div>
    
        <div style="flex: 0 0 50%; margin-bottom: 15px;">
            <label for="pricing_power">Pricing Power:</label>
            <input type="range" id="pricing_power" name="pricing_power" 
                   min="0" max="1" step="0.05" value="0.5" style="width: 80%;">
            <span id="pricing_power_value">0.50</span>
        </div>
    
        <div style="flex: 0 0 50%; margin-bottom: 15px;">
            <label for="competition_impact">Competition Impact:</label>
            <input type="range" id="competition_impact" name="competition_impact" 
                   min="0" max="1" step="0.05" value="0.5" style="width: 80%;">
            <span id="competition_impact_value">0.50</span>
        </div>
    
        <div style="flex: 0 0 50%; margin-bottom: 15px;">
            <label for="development_costs">Development Costs:</label>
            <input type="range" id="development_costs" name="development_costs" 
                   min="0" max="1" step="0.05" value="0.5" style="width: 80%;">
            <span id="development_costs_value">0.50</span>
        </div>
    
        <div style="flex: 0 0 50%; margin-bottom: 15px;">
            <label for="time_to_market">Time to Market:</label>
            <input type="range" id="time_to_market" name="time_to_market" 
                   min="0" max="1" step="0.05" value="0.5" style="width: 80%;">
            <span id="time_to_market_value">0.50</span>
        </div>
    
    </div>
    
    <button id="update_scenario" style="padding: 8px 15px; background-color: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer;">
        Update Valuation
    </button>
    
    <div style="margin-top: 15px;">
        <h4>Custom Scenario NPV Estimate:</h4>
        <p id="custom_npv">Adjust parameters and click Update Valuation to calculate</p>
    </div>
</div>

<script>
    // JavaScript for interactive sliders
    document.querySelectorAll('input[type="range"]').forEach(function(slider) {
        slider.addEventListener('input', function() {
            document.getElementById(this.id + '_value').textContent = parseFloat(this.value).toFixed(2);
        });
    });
    
    document.getElementById('update_scenario').addEventListener('click', function() {
        // Get values from all sliders
        var paramValues = {};
        document.querySelectorAll('input[type="range"]').forEach(function(slider) {
            paramValues[slider.id] = parseFloat(slider.value);
        });
        
        // Calculate a simple weighted average between conservative and optimistic scenarios
        // based on the slider values (this is a simplified model)
        var currentDrug = document.querySelector('.updatemenu-item.active').textContent;
        var drugIndex = ['Azer-cel (DLBCL)', 'HER-Vaxx (Gastric Cancer)', 'CF33/VAXINIA (Bile Tract)', 'CF33/VAXINIA (Solid Tumors)', 'PD1-Vaxx (NSCLC)', 'NeoPOLEM (MSI-high CRC)'].indexOf(currentDrug);
        
        if (drugIndex >= 0) {
            var conservativeNPV = [40, 20, 6, 6, 4, 12][drugIndex];
            var expectedNPV = [63, 33, 11, 11, 8, 19][drugIndex];
            var optimisticNPV = [95, 55, 25, 28, 18, 35][drugIndex];
            
            // Calculate average parameter value (0-1 scale)
            var avgParamValue = Object.values(paramValues).reduce((a, b) => a + b, 0) / Object.keys(paramValues).length;
            
            // Simple interpolation between conservative and optimistic based on average parameter value
            var customNPV = conservativeNPV + (optimisticNPV - conservativeNPV) * avgParamValue;
            
            // Update the NPV display
            document.getElementById('custom_npv').innerHTML = 
                `<strong>Estimated NPV: $${customNPV.toFixed(1)}M</strong><br>` +
                `<small>Compared to: Conservative $${conservativeNPV}M | Expected $${expectedNPV}M | Optimistic $${optimisticNPV}M</small>`;
        }
    });
</script>
